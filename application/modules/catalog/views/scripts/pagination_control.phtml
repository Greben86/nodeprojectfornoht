<?php $attr = ''; if (isset($this->query)&&!empty($this->query)) $attr = '?query='.$this->query; ?>

<?php if ($this->pageCount>1): ?>
<ul class="page_livelist">
    <?php if (isset($this->previous)): ?>
    <?php if ($this->firstPageInRange>1): ?>
    <li>
        <a href="<?php echo $this->url(array('page' => $this->first)) . $attr;?>">
            1
        </a>
    </li>
    <?php endif; ?>
    <li>
        <a href="<?php echo $this->url(array('page' => $this->previous)) . $attr;?>">
            <span class="glyphicon glyphicon-chevron-left"></span>
        </a>
    </li>
    <?php endif; ?>
  <?php foreach ($this->pagesInRange as $page): ?>
  <li class="<?php echo ($page == $this->current) ? 'active' : ''; ?>">
      <a href="<?php echo $this->url(array('page' => $page)) . $attr;?>">
          <?php echo $page; ?>
      </a>
  </li>
  <?php endforeach; ?>
  <?php if (isset($this->next)): ?>
  <li>
      <a href="<?php echo $this->url(array('page' => $this->next)) . $attr;?>">
          <span class="glyphicon glyphicon-chevron-right"></span>
      </a>
  </li>
  <?php if ($this->lastPageInRange<$this->last): ?>
  <li>
      <a href="<?php echo $this->url(array('page' => $this->last)) . $attr;?>">
          <?php echo $this->last; ?>
      </a>
  </li>
  <?php endif; ?>
  <?php endif; ?>
</ul>
<?php endif; ?>
